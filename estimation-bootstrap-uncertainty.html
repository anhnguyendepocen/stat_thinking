<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Estimation / Bootstrap / Uncertainty | Statistical Reasoning through Computation and R</title>
  <meta name="description" content="Chapter 7 Estimation / Bootstrap / Uncertainty | Statistical Reasoning through Computation and R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Estimation / Bootstrap / Uncertainty | Statistical Reasoning through Computation and R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="true" />
  
  
  <meta name="github-repo" content="lebebr01/stat_thinking" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Estimation / Bootstrap / Uncertainty | Statistical Reasoning through Computation and R" />
  
  
  

<meta name="author" content="Brandon LeBeau and Andrew S. Zieffler" />


<meta name="date" content="2020-08-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linear-model.html"/>
<link rel="next" href="prediction-for-individuals.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.15/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-43425299-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-43425299-4');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Statistical Reasoning through Computation and R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#statistics-vs-data-science"><i class="fa fa-check"></i><b>1.1</b> Statistics vs Data Science</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#experiments-vs-observations"><i class="fa fa-check"></i><b>1.2</b> Experiments vs Observations</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#data-structure"><i class="fa fa-check"></i><b>1.3</b> Data Structure</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>2</b> Visualization</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="visualization.html"><a href="visualization.html#college-scorecard-data"><i class="fa fa-check"></i><b>2.0.1</b> College Scorecard Data</a></li>
<li class="chapter" data-level="2.0.2" data-path="visualization.html"><a href="visualization.html#view-the-data"><i class="fa fa-check"></i><b>2.0.2</b> View the Data</a></li>
<li class="chapter" data-level="2.1" data-path="visualization.html"><a href="visualization.html#exploring-attributes"><i class="fa fa-check"></i><b>2.1</b> Exploring Attributes</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="visualization.html"><a href="visualization.html#histograms"><i class="fa fa-check"></i><b>2.1.1</b> Histograms</a></li>
<li class="chapter" data-level="2.1.2" data-path="visualization.html"><a href="visualization.html#interpretting-histograms"><i class="fa fa-check"></i><b>2.1.2</b> Interpretting Histograms</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="visualization.html"><a href="visualization.html#plot-customization"><i class="fa fa-check"></i><b>2.2</b> Plot Customization</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="visualization.html"><a href="visualization.html#axes-labels"><i class="fa fa-check"></i><b>2.2.1</b> Axes labels</a></li>
<li class="chapter" data-level="2.2.2" data-path="visualization.html"><a href="visualization.html#plot-title-and-subtitle"><i class="fa fa-check"></i><b>2.2.2</b> Plot title and subtitle</a></li>
<li class="chapter" data-level="2.2.3" data-path="visualization.html"><a href="visualization.html#plot-theme"><i class="fa fa-check"></i><b>2.2.3</b> Plot theme</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="visualization.html"><a href="visualization.html#density-plots"><i class="fa fa-check"></i><b>2.3</b> Density plots</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html"><i class="fa fa-check"></i><b>3</b> Descriptive Statistics: Numerically Describing the Sample Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#summarizing-attributes"><i class="fa fa-check"></i><b>3.1</b> Summarizing Attributes</a></li>
<li class="chapter" data-level="3.2" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#understanding-the-median-and-mean"><i class="fa fa-check"></i><b>3.2</b> Understanding the Median and Mean</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#summarize-with-the-mean-or-median"><i class="fa fa-check"></i><b>3.2.1</b> Summarize with the Mean or Median?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#numerically-summarizing-variation"><i class="fa fa-check"></i><b>3.3</b> Numerically Summarizing Variation</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#range"><i class="fa fa-check"></i><b>3.3.1</b> Range</a></li>
<li class="chapter" data-level="3.3.2" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#percentile-range"><i class="fa fa-check"></i><b>3.3.2</b> Percentile Range</a></li>
<li class="chapter" data-level="3.3.3" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#interquartile-range-iqr"><i class="fa fa-check"></i><b>3.3.3</b> Interquartile Range (IQR)</a></li>
<li class="chapter" data-level="3.3.4" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#empirical-cumulative-density"><i class="fa fa-check"></i><b>3.3.4</b> Empirical Cumulative Density</a></li>
<li class="chapter" data-level="3.3.5" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#variance-and-standard-deviation"><i class="fa fa-check"></i><b>3.3.5</b> Variance and Standard Deviation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#summarizing-categorical-attributes"><i class="fa fa-check"></i><b>3.4</b> Summarizing Categorical Attributes</a></li>
<li class="chapter" data-level="3.5" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#advanced-extension-computing-your-own-measure-of-variation"><i class="fa fa-check"></i><b>3.5</b> Advanced Extension: Computing Your Own Measure of Variation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html"><i class="fa fa-check"></i><b>4</b> Multivariate Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#multivariate-distributions"><i class="fa fa-check"></i><b>4.1</b> Multivariate Distributions</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#multivariate-density"><i class="fa fa-check"></i><b>4.1.1</b> Multivariate Density</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#facetting"><i class="fa fa-check"></i><b>4.2</b> Facetting</a></li>
<li class="chapter" data-level="4.3" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#considering-groups"><i class="fa fa-check"></i><b>4.3</b> Considering Groups</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#adding-additional-groups"><i class="fa fa-check"></i><b>4.3.1</b> Adding additional groups</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#other-statistics-of-center"><i class="fa fa-check"></i><b>4.4</b> Other statistics of center</a></li>
<li class="chapter" data-level="4.5" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#measures-of-variation"><i class="fa fa-check"></i><b>4.5</b> Measures of Variation</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#robust-measure-of-variation"><i class="fa fa-check"></i><b>4.5.1</b> Robust measure of variation</a></li>
<li class="chapter" data-level="4.5.2" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#variation-by-group"><i class="fa fa-check"></i><b>4.5.2</b> Variation by Group</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>5</b> Classification</a>
<ul>
<li class="chapter" data-level="5.1" data-path="classification.html"><a href="classification.html#topic-decision-trees"><i class="fa fa-check"></i><b>5.1</b> Topic: Decision Trees</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="classification.html"><a href="classification.html#fitting-a-classification-tree"><i class="fa fa-check"></i><b>5.1.1</b> Fitting a Classification Tree</a></li>
<li class="chapter" data-level="5.1.2" data-path="classification.html"><a href="classification.html#pruning-trees"><i class="fa fa-check"></i><b>5.1.2</b> Pruning Trees</a></li>
<li class="chapter" data-level="5.1.3" data-path="classification.html"><a href="classification.html#accuracy"><i class="fa fa-check"></i><b>5.1.3</b> Accuracy</a></li>
<li class="chapter" data-level="5.1.4" data-path="classification.html"><a href="classification.html#comparison-to-baseline"><i class="fa fa-check"></i><b>5.1.4</b> Comparison to Baseline</a></li>
<li class="chapter" data-level="5.1.5" data-path="classification.html"><a href="classification.html#trainingtest-data"><i class="fa fa-check"></i><b>5.1.5</b> Training/Test Data</a></li>
<li class="chapter" data-level="5.1.6" data-path="classification.html"><a href="classification.html#introduction-to-resamplingbootstrap"><i class="fa fa-check"></i><b>5.1.6</b> Introduction to resampling/bootstrap</a></li>
<li class="chapter" data-level="5.1.7" data-path="classification.html"><a href="classification.html#cross-validation"><i class="fa fa-check"></i><b>5.1.7</b> Cross-validation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="linear-model.html"><a href="linear-model.html"><i class="fa fa-check"></i><b>6</b> Linear Model</a>
<ul>
<li class="chapter" data-level="6.1" data-path="linear-model.html"><a href="linear-model.html#regression-trees"><i class="fa fa-check"></i><b>6.1</b> Regression Trees</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="linear-model.html"><a href="linear-model.html#visualize-distributions"><i class="fa fa-check"></i><b>6.1.1</b> Visualize distributions</a></li>
<li class="chapter" data-level="6.1.2" data-path="linear-model.html"><a href="linear-model.html#decision-tree---regression-tree"><i class="fa fa-check"></i><b>6.1.2</b> Decision Tree - Regression Tree</a></li>
<li class="chapter" data-level="6.1.3" data-path="linear-model.html"><a href="linear-model.html#evaluating-accuracy"><i class="fa fa-check"></i><b>6.1.3</b> Evaluating accuracy</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="linear-model.html"><a href="linear-model.html#simple-regression-continuous-predictor"><i class="fa fa-check"></i><b>6.2</b> Simple Regression continuous predictor</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="linear-model.html"><a href="linear-model.html#description-of-the-data"><i class="fa fa-check"></i><b>6.2.1</b> Description of the Data</a></li>
<li class="chapter" data-level="6.2.2" data-path="linear-model.html"><a href="linear-model.html#scatterplots"><i class="fa fa-check"></i><b>6.2.2</b> Scatterplots</a></li>
<li class="chapter" data-level="6.2.3" data-path="linear-model.html"><a href="linear-model.html#fitting-a-linear-regression-model"><i class="fa fa-check"></i><b>6.2.3</b> Fitting a linear regression model</a></li>
<li class="chapter" data-level="6.2.4" data-path="linear-model.html"><a href="linear-model.html#explore-the-y-intercept"><i class="fa fa-check"></i><b>6.2.4</b> Explore the y-intercept</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="linear-model.html"><a href="linear-model.html#conditional-means"><i class="fa fa-check"></i><b>6.3</b> Conditional Means</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html"><i class="fa fa-check"></i><b>7</b> Estimation / Bootstrap / Uncertainty</a>
<ul>
<li class="chapter" data-level="7.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#estimating-error"><i class="fa fa-check"></i><b>7.1</b> Estimating Error</a></li>
<li class="chapter" data-level="7.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#categorical-predictors"><i class="fa fa-check"></i><b>7.2</b> Categorical Predictor(s)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#mothers-smoking"><i class="fa fa-check"></i><b>7.2.1</b> Mother’s smoking</a></li>
<li class="chapter" data-level="7.2.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#linear-regression---categorical-predictor"><i class="fa fa-check"></i><b>7.2.2</b> Linear Regression - Categorical Predictor</a></li>
<li class="chapter" data-level="7.2.3" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#inference"><i class="fa fa-check"></i><b>7.2.3</b> Inference</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#more-than-2-categorical-groups"><i class="fa fa-check"></i><b>7.3</b> More than 2 categorical groups</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#explore-distribution-3-groups"><i class="fa fa-check"></i><b>7.3.1</b> Explore distribution 3 groups</a></li>
<li class="chapter" data-level="7.3.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#overall-model-fit"><i class="fa fa-check"></i><b>7.3.2</b> Overall model fit</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#multiple-regression"><i class="fa fa-check"></i><b>7.4</b> Multiple Regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#interactions"><i class="fa fa-check"></i><b>7.4.1</b> Interactions</a></li>
<li class="chapter" data-level="7.4.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#evaluating-model-fit"><i class="fa fa-check"></i><b>7.4.2</b> Evaluating model fit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html"><i class="fa fa-check"></i><b>8</b> Prediction for individuals</a>
<ul>
<li class="chapter" data-level="8.1" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#comparison-of-classification-linear-model"><i class="fa fa-check"></i><b>8.1</b> Comparison of classification / linear model</a></li>
<li class="chapter" data-level="8.2" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#compared-linear-model-with-median"><i class="fa fa-check"></i><b>8.2</b> Compared linear model with median</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#skewed-data---inference"><i class="fa fa-check"></i><b>8.2.1</b> Skewed Data - Inference</a></li>
<li class="chapter" data-level="8.2.2" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#bootstrap-median"><i class="fa fa-check"></i><b>8.2.2</b> Bootstrap Median</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Reasoning through Computation and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="estimation-bootstrap-uncertainty" class="section level1" number="7">
<h1><span class="header-section-number">Chapter 7</span> Estimation / Bootstrap / Uncertainty</h1>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="estimation-bootstrap-uncertainty.html#cb197-1" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb197-2"><a href="estimation-bootstrap-uncertainty.html#cb197-2" aria-hidden="true"></a><span class="kw">library</span>(ggformula)</span>
<span id="cb197-3"><a href="estimation-bootstrap-uncertainty.html#cb197-3" aria-hidden="true"></a><span class="kw">library</span>(mosaic)</span>
<span id="cb197-4"><a href="estimation-bootstrap-uncertainty.html#cb197-4" aria-hidden="true"></a><span class="kw">library</span>(broom)</span>
<span id="cb197-5"><a href="estimation-bootstrap-uncertainty.html#cb197-5" aria-hidden="true"></a><span class="kw">library</span>(statthink)</span>
<span id="cb197-6"><a href="estimation-bootstrap-uncertainty.html#cb197-6" aria-hidden="true"></a></span>
<span id="cb197-7"><a href="estimation-bootstrap-uncertainty.html#cb197-7" aria-hidden="true"></a><span class="co"># Set theme for plots</span></span>
<span id="cb197-8"><a href="estimation-bootstrap-uncertainty.html#cb197-8" aria-hidden="true"></a><span class="kw">theme_set</span>(<span class="kw">theme_statthinking</span>())</span>
<span id="cb197-9"><a href="estimation-bootstrap-uncertainty.html#cb197-9" aria-hidden="true"></a></span>
<span id="cb197-10"><a href="estimation-bootstrap-uncertainty.html#cb197-10" aria-hidden="true"></a>baby &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/lebebr01/statthink/master/data-raw/baby.csv&quot;</span>)</span>
<span id="cb197-11"><a href="estimation-bootstrap-uncertainty.html#cb197-11" aria-hidden="true"></a><span class="kw">head</span>(baby)</span></code></pre></div>
<pre><code>## [90m# A tibble: 6 x 6[39m
##   birth_weight gestational_days maternal_age maternal_height maternal_pregna…
##          [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m          120              284           27              62              100
## [90m2[39m          113              282           33              64              135
## [90m3[39m          128              279           28              64              115
## [90m4[39m          108              282           23              67              125
## [90m5[39m          136              286           25              62               93
## [90m6[39m          138              244           33              62              178
## [90m# … with 1 more variable: maternal_smoker [3m[90m&lt;lgl&gt;[90m[23m[39m</code></pre>
<p>Bootstrap and resampling methods can be used to estimate the variability in the estimated effects.</p>
<div id="estimating-error" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Estimating Error</h2>
<p>To get some sense of the amount of error in the estimate of the linear slope here, a bootstrap can be done to provide some evidence of the likely range of slope values. The bootstrap will take the following general steps:</p>
<ol style="list-style-type: decimal">
<li>Resample the observed data available, with replacement</li>
<li>Fit the same linear regression model as above.</li>
<li>Save the slope coefficient representing the relationship between birth weight and gestational days</li>
<li>Repeat steps 1 - 3 many times</li>
<li>Explore the distribution of slope estimates from the many resampled data sets.</li>
</ol>
<p>When this was done with the classification tree, a function was used to do these steps once, then these were repeated many times. Below is a function that does the steps 1 - 3 above a single time.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="estimation-bootstrap-uncertainty.html#cb199-1" aria-hidden="true"></a>resample_baby &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb199-2"><a href="estimation-bootstrap-uncertainty.html#cb199-2" aria-hidden="true"></a>  baby_resample &lt;-<span class="st"> </span>baby <span class="op">%&gt;%</span></span>
<span id="cb199-3"><a href="estimation-bootstrap-uncertainty.html#cb199-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">sample_n</span>(<span class="kw">nrow</span>(baby), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb199-4"><a href="estimation-bootstrap-uncertainty.html#cb199-4" aria-hidden="true"></a></span>
<span id="cb199-5"><a href="estimation-bootstrap-uncertainty.html#cb199-5" aria-hidden="true"></a>  baby_resample <span class="op">%&gt;%</span></span>
<span id="cb199-6"><a href="estimation-bootstrap-uncertainty.html#cb199-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span>gestational_days, <span class="dt">data =</span> .) <span class="op">%&gt;%</span></span>
<span id="cb199-7"><a href="estimation-bootstrap-uncertainty.html#cb199-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">coef</span>(.) <span class="op">%&gt;%</span></span>
<span id="cb199-8"><a href="estimation-bootstrap-uncertainty.html#cb199-8" aria-hidden="true"></a><span class="st">    </span>.[<span class="dv">2</span>] <span class="op">%&gt;%</span></span>
<span id="cb199-9"><a href="estimation-bootstrap-uncertainty.html#cb199-9" aria-hidden="true"></a><span class="st">    </span><span class="kw">data.frame</span>()</span>
<span id="cb199-10"><a href="estimation-bootstrap-uncertainty.html#cb199-10" aria-hidden="true"></a>}</span>
<span id="cb199-11"><a href="estimation-bootstrap-uncertainty.html#cb199-11" aria-hidden="true"></a></span>
<span id="cb199-12"><a href="estimation-bootstrap-uncertainty.html#cb199-12" aria-hidden="true"></a><span class="kw">resample_baby</span>()</span></code></pre></div>
<pre><code>##                          .
## gestational_days 0.5421321</code></pre>
<p>Now that there is a function that does steps 1 - 3, these processes can now be repeated many times.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="estimation-bootstrap-uncertainty.html#cb201-1" aria-hidden="true"></a>baby_coef &lt;-<span class="st"> </span><span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10000</span>, resample_baby) <span class="op">%&gt;%</span></span>
<span id="cb201-2"><a href="estimation-bootstrap-uncertainty.html#cb201-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">bind_rows</span>()</span>
<span id="cb201-3"><a href="estimation-bootstrap-uncertainty.html#cb201-3" aria-hidden="true"></a><span class="kw">names</span>(baby_coef) &lt;-<span class="st"> &#39;slope&#39;</span></span>
<span id="cb201-4"><a href="estimation-bootstrap-uncertainty.html#cb201-4" aria-hidden="true"></a></span>
<span id="cb201-5"><a href="estimation-bootstrap-uncertainty.html#cb201-5" aria-hidden="true"></a><span class="kw">gf_density</span>(<span class="op">~</span><span class="st"> </span>slope, <span class="dt">data =</span> baby_coef)</span></code></pre></div>
<p><img src="07-estimation_files/figure-html/resample-10k-density-1.png" width="672" /></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="estimation-bootstrap-uncertainty.html#cb202-1" aria-hidden="true"></a>baby_coef <span class="op">%&gt;%</span></span>
<span id="cb202-2"><a href="estimation-bootstrap-uncertainty.html#cb202-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">df_stats</span>(<span class="op">~</span><span class="st"> </span>slope, <span class="kw">quantile</span>(<span class="kw">c</span>(<span class="fl">0.05</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span>)))</span></code></pre></div>
<pre><code>##          5%       50%       95%
## 1 0.3959025 0.4677796 0.5426798</code></pre>
</div>
<div id="categorical-predictors" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Categorical Predictor(s)</h2>
<p>Before, linear regression has been ran with a continuous attribute. In both models, the baby’s birth weight was the outcome of interest and the predictor in one model was the number of gestational days and in the other was the age of the mother at time of birth. What happens when a categorical predictor is used instead of a continuous predictor? This section will introduce that idea with a categorical predictor that has two different levels.</p>
<div id="mothers-smoking" class="section level3" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Mother’s smoking</h3>
<p>It is known that a mother smoking while pregnant can hamper the development of the unborn fetus. Will this transition into lower birth weight for baby’s born to mothers who smoked during the pregnancy? First, let’s explore the distribution and calculate descriptive statistics for birth weight across the two groups.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="estimation-bootstrap-uncertainty.html#cb204-1" aria-hidden="true"></a><span class="kw">gf_density</span>(<span class="op">~</span><span class="st"> </span>birth_weight, <span class="dt">color =</span> <span class="op">~</span><span class="st"> </span>maternal_smoker, <span class="dt">size =</span> <span class="fl">1.25</span>, <span class="dt">fill =</span> <span class="st">&#39;gray80&#39;</span>, <span class="dt">data =</span> baby) <span class="op">%&gt;%</span></span>
<span id="cb204-2"><a href="estimation-bootstrap-uncertainty.html#cb204-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_labs</span>(<span class="dt">x =</span> <span class="st">&#39;Birth Weight (in oz)&#39;</span>,</span>
<span id="cb204-3"><a href="estimation-bootstrap-uncertainty.html#cb204-3" aria-hidden="true"></a>          <span class="dt">color =</span> <span class="st">&#39;Smoked?&#39;</span>)</span></code></pre></div>
<p><img src="07-estimation_files/figure-html/density-smoker-1.png" width="672" /></p>
<p>What are the general take-aways from the distributions above? To give some additional information, a violin plot may be helpful.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="estimation-bootstrap-uncertainty.html#cb205-1" aria-hidden="true"></a><span class="kw">gf_violin</span>(birth_weight <span class="op">~</span><span class="st"> </span>maternal_smoker, <span class="dt">data =</span> baby, <span class="dt">draw_quantiles =</span> <span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">0.9</span>), </span>
<span id="cb205-2"><a href="estimation-bootstrap-uncertainty.html#cb205-2" aria-hidden="true"></a>           <span class="dt">fill =</span> <span class="st">&#39;gray85&#39;</span>, <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb205-3"><a href="estimation-bootstrap-uncertainty.html#cb205-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_refine</span>(<span class="kw">coord_flip</span>()) <span class="op">%&gt;%</span></span>
<span id="cb205-4"><a href="estimation-bootstrap-uncertainty.html#cb205-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_labs</span>(<span class="dt">y =</span> <span class="st">&quot;Birth Weight (in oz)&quot;</span>,</span>
<span id="cb205-5"><a href="estimation-bootstrap-uncertainty.html#cb205-5" aria-hidden="true"></a>          <span class="dt">x =</span> <span class="st">&quot;Smoker?&quot;</span>)</span></code></pre></div>
<p><img src="07-estimation_files/figure-html/violin-smoker-1.png" width="672" /></p>
<p>Any additional information shown here that shows differences? To finish the descriptive exploration, let’s compute some descriptive statistics.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="estimation-bootstrap-uncertainty.html#cb206-1" aria-hidden="true"></a>baby <span class="op">%&gt;%</span></span>
<span id="cb206-2"><a href="estimation-bootstrap-uncertainty.html#cb206-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">df_stats</span>(birth_weight <span class="op">~</span><span class="st"> </span>maternal_smoker, mean, sd, median, <span class="kw">quantile</span>(<span class="kw">c</span>(<span class="fl">0.25</span>, <span class="fl">0.75</span>)), length)</span></code></pre></div>
<pre><code>##   maternal_smoker mean_birth_weight sd_birth_weight median_birth_weight 25% 75%
## 1           FALSE          123.0853        17.42370                 123 113 134
## 2            TRUE          113.8192        18.29501                 115 101 126
##   length_birth_weight
## 1                 715
## 2                 459</code></pre>
</div>
<div id="linear-regression---categorical-predictor" class="section level3" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Linear Regression - Categorical Predictor</h3>
<p>Now it is time to fit a model to the data here to explore if there indeed is a difference in the population. We know descriptively there is a difference in the two group means and medians, but is this difference large enough to be practical? The model is fitted similar to before with the <code>lm()</code> function and a similar formula as before. The outcome (birth weight) is to the left of the <code>~</code> and the predictor (maternal smoking status) is to the right.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="estimation-bootstrap-uncertainty.html#cb208-1" aria-hidden="true"></a>smoker_reg &lt;-<span class="st"> </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span>maternal_smoker, <span class="dt">data =</span> baby)</span>
<span id="cb208-2"><a href="estimation-bootstrap-uncertainty.html#cb208-2" aria-hidden="true"></a><span class="kw">coef</span>(smoker_reg)</span></code></pre></div>
<pre><code>##         (Intercept) maternal_smokerTRUE 
##          123.085315           -9.266143</code></pre>
<p>To explore what these coefficients mean in a bit more detail, let’s look at the data a bit more.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="estimation-bootstrap-uncertainty.html#cb210-1" aria-hidden="true"></a>baby &lt;-<span class="st"> </span>baby <span class="op">%&gt;%</span></span>
<span id="cb210-2"><a href="estimation-bootstrap-uncertainty.html#cb210-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">smoker =</span> <span class="kw">ifelse</span>(maternal_smoker, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb210-3"><a href="estimation-bootstrap-uncertainty.html#cb210-3" aria-hidden="true"></a><span class="kw">head</span>(baby)</span></code></pre></div>
<pre><code>## [90m# A tibble: 6 x 7[39m
##   birth_weight gestational_days maternal_age maternal_height maternal_pregna…
##          [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m          120              284           27              62              100
## [90m2[39m          113              282           33              64              135
## [90m3[39m          128              279           28              64              115
## [90m4[39m          108              282           23              67              125
## [90m5[39m          136              286           25              62               93
## [90m6[39m          138              244           33              62              178
## [90m# … with 2 more variables: maternal_smoker [3m[90m&lt;lgl&gt;[90m[23m, smoker [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<p>Instead of using the <code>maternal_smoker</code> attribute, instead let’s run the model with the <code>smoker</code> attribute.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="estimation-bootstrap-uncertainty.html#cb212-1" aria-hidden="true"></a>smoker_reg_new &lt;-<span class="st"> </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span>smoker, <span class="dt">data =</span> baby)</span>
<span id="cb212-2"><a href="estimation-bootstrap-uncertainty.html#cb212-2" aria-hidden="true"></a><span class="kw">coef</span>(smoker_reg_new)</span></code></pre></div>
<pre><code>## (Intercept)      smoker 
##  123.085315   -9.266143</code></pre>
<p>Notice that the coefficients for the linear regression are the same no matter which attribute is entered into the model. When a categorical attribute is entered into the regression in R, the attribute is automatically converted into something called an indicator or dummy variable. This means that one of the two values are represented with a 1, the other with a 0. The value that is represented with a 0 is the one that is closer to the letter “A”, meaning that the 0 is the first category in alphabetical order.</p>
<p>To again get a better grasp, the descriptive stats and the coefficients from the regression are shown together below.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="estimation-bootstrap-uncertainty.html#cb214-1" aria-hidden="true"></a>baby <span class="op">%&gt;%</span></span>
<span id="cb214-2"><a href="estimation-bootstrap-uncertainty.html#cb214-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">df_stats</span>(birth_weight <span class="op">~</span><span class="st"> </span>maternal_smoker, mean, sd, median, <span class="kw">quantile</span>(<span class="kw">c</span>(<span class="fl">0.25</span>, <span class="fl">0.75</span>)), length)</span></code></pre></div>
<pre><code>##   maternal_smoker mean_birth_weight sd_birth_weight median_birth_weight 25% 75%
## 1           FALSE          123.0853        17.42370                 123 113 134
## 2            TRUE          113.8192        18.29501                 115 101 126
##   length_birth_weight
## 1                 715
## 2                 459</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="estimation-bootstrap-uncertainty.html#cb216-1" aria-hidden="true"></a><span class="kw">coef</span>(smoker_reg)</span></code></pre></div>
<pre><code>##         (Intercept) maternal_smokerTRUE 
##          123.085315           -9.266143</code></pre>
</div>
<div id="inference" class="section level3" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Inference</h3>
<p>Similar to the continuous predictor, resampling/bootstrap takes a similar method in the case with a single categorical predictor.</p>
<p>In order to get some sense of the amount of error in the estimate of the linear slope here, a bootstrap can be done to provide some evidence of the likely range of slope values. The bootstrap will take the following general steps:</p>
<ol style="list-style-type: decimal">
<li>Resample the observed data available, with replacement</li>
<li>Fit the same linear regression model as above.</li>
<li>Save the slope coefficient representing the relationship between birth weight and gestational days</li>
<li>Repeat steps 1 - 3 many times</li>
<li>Explore the distribution of slope estimates from the many resampled data sets.</li>
</ol>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="estimation-bootstrap-uncertainty.html#cb218-1" aria-hidden="true"></a>resample_baby &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb218-2"><a href="estimation-bootstrap-uncertainty.html#cb218-2" aria-hidden="true"></a>  baby_resample &lt;-<span class="st"> </span>baby <span class="op">%&gt;%</span></span>
<span id="cb218-3"><a href="estimation-bootstrap-uncertainty.html#cb218-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">sample_n</span>(<span class="kw">nrow</span>(baby), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb218-4"><a href="estimation-bootstrap-uncertainty.html#cb218-4" aria-hidden="true"></a></span>
<span id="cb218-5"><a href="estimation-bootstrap-uncertainty.html#cb218-5" aria-hidden="true"></a>  baby_resample <span class="op">%&gt;%</span></span>
<span id="cb218-6"><a href="estimation-bootstrap-uncertainty.html#cb218-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span>maternal_smoker, <span class="dt">data =</span> .) <span class="op">%&gt;%</span></span>
<span id="cb218-7"><a href="estimation-bootstrap-uncertainty.html#cb218-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">coef</span>(.) <span class="op">%&gt;%</span></span>
<span id="cb218-8"><a href="estimation-bootstrap-uncertainty.html#cb218-8" aria-hidden="true"></a><span class="st">    </span>.[<span class="dv">2</span>] <span class="op">%&gt;%</span></span>
<span id="cb218-9"><a href="estimation-bootstrap-uncertainty.html#cb218-9" aria-hidden="true"></a><span class="st">    </span><span class="kw">data.frame</span>()</span>
<span id="cb218-10"><a href="estimation-bootstrap-uncertainty.html#cb218-10" aria-hidden="true"></a>}</span>
<span id="cb218-11"><a href="estimation-bootstrap-uncertainty.html#cb218-11" aria-hidden="true"></a></span>
<span id="cb218-12"><a href="estimation-bootstrap-uncertainty.html#cb218-12" aria-hidden="true"></a><span class="kw">resample_baby</span>()</span></code></pre></div>
<pre><code>##                             .
## maternal_smokerTRUE -8.672671</code></pre>
<p>Now that there is a function that does steps 1 - 3, these processes can now be repeated many times.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="estimation-bootstrap-uncertainty.html#cb220-1" aria-hidden="true"></a>baby_coef &lt;-<span class="st"> </span><span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10000</span>, resample_baby) <span class="op">%&gt;%</span></span>
<span id="cb220-2"><a href="estimation-bootstrap-uncertainty.html#cb220-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">bind_rows</span>()</span>
<span id="cb220-3"><a href="estimation-bootstrap-uncertainty.html#cb220-3" aria-hidden="true"></a><span class="kw">names</span>(baby_coef) &lt;-<span class="st"> &#39;slope&#39;</span></span>
<span id="cb220-4"><a href="estimation-bootstrap-uncertainty.html#cb220-4" aria-hidden="true"></a></span>
<span id="cb220-5"><a href="estimation-bootstrap-uncertainty.html#cb220-5" aria-hidden="true"></a><span class="kw">gf_density</span>(<span class="op">~</span><span class="st"> </span>slope, <span class="dt">data =</span> baby_coef)</span></code></pre></div>
<p><img src="07-estimation_files/figure-html/smoker-many-resamp-1.png" width="672" /></p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="estimation-bootstrap-uncertainty.html#cb221-1" aria-hidden="true"></a>baby_coef <span class="op">%&gt;%</span></span>
<span id="cb221-2"><a href="estimation-bootstrap-uncertainty.html#cb221-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">df_stats</span>(<span class="op">~</span><span class="st"> </span>slope, <span class="kw">quantile</span>(<span class="kw">c</span>(<span class="fl">0.05</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span>)))</span></code></pre></div>
<pre><code>##          5%       50%       95%
## 1 -11.03766 -9.282004 -7.523831</code></pre>
</div>
</div>
<div id="more-than-2-categorical-groups" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> More than 2 categorical groups</h2>
<p>Before the model contained one attribute that represented two groups. What happens when there are more than two groups for an attribute? To explore this, the college scorecard data will be used again.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="estimation-bootstrap-uncertainty.html#cb223-1" aria-hidden="true"></a>college_score &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/lebebr01/statthink/master/data-raw/College-scorecard-clean.csv&quot;</span>, <span class="dt">guess_max =</span> <span class="dv">10000</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   instnm = [31mcol_character()[39m,
##   city = [31mcol_character()[39m,
##   stabbr = [31mcol_character()[39m,
##   preddeg = [31mcol_character()[39m,
##   region = [31mcol_character()[39m,
##   locale = [31mcol_character()[39m,
##   adm_rate = [32mcol_double()[39m,
##   actcmmid = [32mcol_double()[39m,
##   ugds = [32mcol_double()[39m,
##   costt4_a = [32mcol_double()[39m,
##   costt4_p = [32mcol_double()[39m,
##   tuitionfee_in = [32mcol_double()[39m,
##   tuitionfee_out = [32mcol_double()[39m,
##   debt_mdn = [32mcol_double()[39m,
##   grad_debt_mdn = [32mcol_double()[39m,
##   female = [32mcol_double()[39m,
##   bachelor_degree = [32mcol_double()[39m
## )</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="estimation-bootstrap-uncertainty.html#cb225-1" aria-hidden="true"></a><span class="kw">head</span>(college_score)</span></code></pre></div>
<pre><code>## [90m# A tibble: 6 x 17[39m
##   instnm city  stabbr preddeg region locale adm_rate actcmmid  ugds costt4_a
##   [3m[90m&lt;chr&gt;[39m[23m  [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m  [3m[90m&lt;chr&gt;[39m[23m   [3m[90m&lt;chr&gt;[39m[23m  [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m    [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dbl&gt;[39m[23m    [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m Alaba… Norm… AL     Bachel… South… City:…    0.903       18  [4m4[24m824    [4m2[24m[4m2[24m886
## [90m2[39m Unive… Birm… AL     Bachel… South… City:…    0.918       25 [4m1[24m[4m2[24m866    [4m2[24m[4m4[24m129
## [90m3[39m Unive… Hunt… AL     Bachel… South… City:…    0.812       28  [4m6[24m917    [4m2[24m[4m2[24m108
## [90m4[39m Alaba… Mont… AL     Bachel… South… City:…    0.979       18  [4m4[24m189    [4m1[24m[4m9[24m413
## [90m5[39m The U… Tusc… AL     Bachel… South… City:…    0.533       28 [4m3[24m[4m2[24m387    [4m2[24m[4m8[24m836
## [90m6[39m Aubur… Mont… AL     Bachel… South… City:…    0.825       22  [4m4[24m211    [4m1[24m[4m9[24m892
## [90m# … with 7 more variables: costt4_p [3m[90m&lt;dbl&gt;[90m[23m, tuitionfee_in [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   tuitionfee_out [3m[90m&lt;dbl&gt;[90m[23m, debt_mdn [3m[90m&lt;dbl&gt;[90m[23m, grad_debt_mdn [3m[90m&lt;dbl&gt;[90m[23m, female [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   bachelor_degree [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<div id="explore-distribution-3-groups" class="section level3" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Explore distribution 3 groups</h3>
<p>Early in the course, the distribution of admission rates by the primary degree that the institution grants was explored. Below is a violin plot that shows these three distributions.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="estimation-bootstrap-uncertainty.html#cb227-1" aria-hidden="true"></a><span class="kw">gf_violin</span>(adm_rate <span class="op">~</span><span class="st"> </span>preddeg, <span class="dt">data =</span> college_score, <span class="dt">fill =</span> <span class="st">&#39;gray85&#39;</span>, </span>
<span id="cb227-2"><a href="estimation-bootstrap-uncertainty.html#cb227-2" aria-hidden="true"></a>          <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">draw_quantiles =</span> <span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">0.9</span>))</span></code></pre></div>
<p><img src="07-estimation_files/figure-html/violin-preddeg-1.png" width="672" /></p>
<p>There may be some small differences between these groups, but more formally we can test this to understand the amount of uncertainty in the average of the distributions. This again will make use of the <code>lm()</code> function in R and the formula is very similar to what was done before and mimics the formula from the violin plot above.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="estimation-bootstrap-uncertainty.html#cb228-1" aria-hidden="true"></a>adm_model &lt;-<span class="st"> </span><span class="kw">lm</span>(adm_rate <span class="op">~</span><span class="st"> </span>preddeg, <span class="dt">data =</span> college_score)</span>
<span id="cb228-2"><a href="estimation-bootstrap-uncertainty.html#cb228-2" aria-hidden="true"></a><span class="kw">coef</span>(adm_model)</span></code></pre></div>
<pre><code>##               (Intercept)    preddegBachelor Degree preddegCertificate Degree 
##                0.72296993               -0.05170254                0.02193828</code></pre>
<p>Guesses as to what these coefficients represent? How were the categorical groups turned into the different elements in the model?</p>
</div>
<div id="overall-model-fit" class="section level3" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Overall model fit</h3>
<p>There is a measure of overall model fit that is commonly used in the research literature for linear regression models, called R-squared. R-squared represents the proportion of variation in the outcome that is explained by the attributes in the model. The statistic ranges from 0 to 1 where values closer to 1 indicate larger percentages of variation explained. This can be extracted from the model directly.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="estimation-bootstrap-uncertainty.html#cb230-1" aria-hidden="true"></a><span class="kw">summary</span>(adm_model)<span class="op">$</span>r.squared</span></code></pre></div>
<pre><code>## [1] 0.01404376</code></pre>
<p>Another one can be computed from the baby data where the birth weight was the outcome and gestational days was the primary attribute used as a predictor.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="estimation-bootstrap-uncertainty.html#cb232-1" aria-hidden="true"></a>baby_reg &lt;-<span class="st"> </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span>gestational_days, <span class="dt">data =</span> baby)</span>
<span id="cb232-2"><a href="estimation-bootstrap-uncertainty.html#cb232-2" aria-hidden="true"></a><span class="kw">summary</span>(baby_reg)<span class="op">$</span>r.squared</span></code></pre></div>
<pre><code>## [1] 0.1660911</code></pre>
<p>For models with a single predictor variable, R-squared is the correlation coefficient squared. For example:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="estimation-bootstrap-uncertainty.html#cb234-1" aria-hidden="true"></a><span class="kw">cor</span>(birth_weight <span class="op">~</span><span class="st"> </span>gestational_days, <span class="dt">data =</span> baby) <span class="op">^</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 0.1660911</code></pre>
</div>
</div>
<div id="multiple-regression" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Multiple Regression</h2>
<p>What happens if we would like to combine the two predictors? Shown above is that the number of gestational days has a moderate relationship to the baby weight, therefore exploring the effects of smoking, it would be nice to remove the effect of gestational days from the baby weight. More specifically, this essentially allows us to make comparisons on the effect of smoking for the <strong>same</strong> gestational days. One way to think about this is through conditional means. Exploration of these visually first can be particularly helpful.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="estimation-bootstrap-uncertainty.html#cb236-1" aria-hidden="true"></a><span class="kw">gf_point</span>(birth_weight <span class="op">~</span><span class="st"> </span>gestational_days, <span class="dt">data =</span> baby, <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span></span>
<span id="cb236-2"><a href="estimation-bootstrap-uncertainty.html#cb236-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_smooth</span>() <span class="op">%&gt;%</span></span>
<span id="cb236-3"><a href="estimation-bootstrap-uncertainty.html#cb236-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_facet_wrap</span>(<span class="op">~</span><span class="st"> </span>maternal_smoker)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39;</code></pre>
<p><img src="07-estimation_files/figure-html/scatter-smoker-1.png" width="672" /></p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="estimation-bootstrap-uncertainty.html#cb238-1" aria-hidden="true"></a>baby_reg_smoker &lt;-<span class="st"> </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span><span class="kw">I</span>(gestational_days <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(gestational_days)) <span class="op">+</span><span class="st"> </span>maternal_smoker, <span class="dt">data =</span> baby)</span>
<span id="cb238-2"><a href="estimation-bootstrap-uncertainty.html#cb238-2" aria-hidden="true"></a><span class="kw">coef</span>(baby_reg_smoker)</span></code></pre></div>
<pre><code>##                                  (Intercept) 
##                                  122.7366688 
## I(gestational_days - mean(gestational_days)) 
##                                    0.4511679 
##                          maternal_smokerTRUE 
##                                   -8.3743990</code></pre>
<p>We can write out the regression equation similar to before:</p>
<p><span class="math display">\[\begin{equation}
birth\_weight = 122.67 + 0.49 (gestational\_days - mean(gestational\_days) - 8.17 maternal\_smoker + \epsilon
\end{equation}\]</span></p>
<p>Let’s explore how these are interpreted.
### Distribution of Effects
Similar to before, the distribution of effects can be obtained with the following steps:</p>
<ol style="list-style-type: decimal">
<li>Resample the observed data available, with replacement</li>
<li>Estimate linear model coefficients.</li>
<li>Save terms of interest</li>
<li>Repeat steps 1 - 3 many times</li>
<li>Explore the distribution of median differences from the many resampled data sets.</li>
</ol>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="estimation-bootstrap-uncertainty.html#cb240-1" aria-hidden="true"></a>resample_baby &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb240-2"><a href="estimation-bootstrap-uncertainty.html#cb240-2" aria-hidden="true"></a>  baby_resample &lt;-<span class="st"> </span>baby <span class="op">%&gt;%</span></span>
<span id="cb240-3"><a href="estimation-bootstrap-uncertainty.html#cb240-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">sample_n</span>(<span class="kw">nrow</span>(baby), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb240-4"><a href="estimation-bootstrap-uncertainty.html#cb240-4" aria-hidden="true"></a></span>
<span id="cb240-5"><a href="estimation-bootstrap-uncertainty.html#cb240-5" aria-hidden="true"></a>  baby_resample <span class="op">%&gt;%</span></span>
<span id="cb240-6"><a href="estimation-bootstrap-uncertainty.html#cb240-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span><span class="kw">I</span>(gestational_days <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(gestational_days)) <span class="op">+</span><span class="st"> </span>maternal_smoker, <span class="dt">data =</span> .) <span class="op">%&gt;%</span></span>
<span id="cb240-7"><a href="estimation-bootstrap-uncertainty.html#cb240-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">tidy</span>(.) <span class="op">%&gt;%</span></span>
<span id="cb240-8"><a href="estimation-bootstrap-uncertainty.html#cb240-8" aria-hidden="true"></a><span class="st">    </span><span class="kw">select</span>(term, estimate)</span>
<span id="cb240-9"><a href="estimation-bootstrap-uncertainty.html#cb240-9" aria-hidden="true"></a>}</span>
<span id="cb240-10"><a href="estimation-bootstrap-uncertainty.html#cb240-10" aria-hidden="true"></a><span class="kw">resample_baby</span>()</span></code></pre></div>
<pre><code>## [90m# A tibble: 3 x 2[39m
##   term                                         estimate
##   [3m[90m&lt;chr&gt;[39m[23m                                           [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m (Intercept)                                   123.   
## [90m2[39m I(gestational_days - mean(gestational_days))    0.545
## [90m3[39m maternal_smokerTRUE                            -[31m9[39m[31m.[39m[31m29[39m</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="estimation-bootstrap-uncertainty.html#cb242-1" aria-hidden="true"></a>coef_baby &lt;-<span class="st"> </span><span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10000</span>, resample_baby) <span class="op">%&gt;%</span></span>
<span id="cb242-2"><a href="estimation-bootstrap-uncertainty.html#cb242-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">bind_rows</span>()</span>
<span id="cb242-3"><a href="estimation-bootstrap-uncertainty.html#cb242-3" aria-hidden="true"></a></span>
<span id="cb242-4"><a href="estimation-bootstrap-uncertainty.html#cb242-4" aria-hidden="true"></a>coef_baby <span class="op">%&gt;%</span></span>
<span id="cb242-5"><a href="estimation-bootstrap-uncertainty.html#cb242-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_density</span>(<span class="op">~</span><span class="st"> </span>estimate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb242-6"><a href="estimation-bootstrap-uncertainty.html#cb242-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_facet_wrap</span>(<span class="op">~</span><span class="st"> </span>term, <span class="dt">scales =</span> <span class="st">&#39;free&#39;</span>)</span></code></pre></div>
<p><img src="07-estimation_files/figure-html/mult-reg-dist-1.png" width="672" /></p>
<div id="interactions" class="section level3" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Interactions</h3>
<p>One additional idea that can be quite powerful is the idea of interactions. This was indirectly shown earlier in the course with classification and regression trees, where the models after each split re-evaluated which attributes were most helpful. In this way, the same attribute could be used in different places with different scores identifying the split. A similar idea can be explored in the regression framework, where the idea is that there are differential effects for different groups. This can be shown visually:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="estimation-bootstrap-uncertainty.html#cb243-1" aria-hidden="true"></a><span class="kw">gf_point</span>(birth_weight <span class="op">~</span><span class="st"> </span>gestational_days, <span class="dt">data =</span> baby, <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span></span>
<span id="cb243-2"><a href="estimation-bootstrap-uncertainty.html#cb243-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_smooth</span>() <span class="op">%&gt;%</span></span>
<span id="cb243-3"><a href="estimation-bootstrap-uncertainty.html#cb243-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_facet_wrap</span>(<span class="op">~</span><span class="st"> </span>maternal_smoker)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39;</code></pre>
<p><img src="07-estimation_files/figure-html/scatter-smoker-int-1.png" width="672" /></p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="estimation-bootstrap-uncertainty.html#cb245-1" aria-hidden="true"></a>baby_reg_int &lt;-<span class="st"> </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span><span class="kw">I</span>(gestational_days <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(gestational_days)) <span class="op">*</span><span class="st"> </span>maternal_smoker, <span class="dt">data =</span> baby)</span>
<span id="cb245-2"><a href="estimation-bootstrap-uncertainty.html#cb245-2" aria-hidden="true"></a><span class="kw">coef</span>(baby_reg_int)</span></code></pre></div>
<pre><code>##                                                      (Intercept) 
##                                                       122.799690 
##                     I(gestational_days - mean(gestational_days)) 
##                                                         0.369615 
##                                              maternal_smokerTRUE 
##                                                        -8.257707 
## I(gestational_days - mean(gestational_days)):maternal_smokerTRUE 
##                                                         0.230846</code></pre>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="estimation-bootstrap-uncertainty.html#cb247-1" aria-hidden="true"></a>resample_baby &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb247-2"><a href="estimation-bootstrap-uncertainty.html#cb247-2" aria-hidden="true"></a>  baby_resample &lt;-<span class="st"> </span>baby <span class="op">%&gt;%</span></span>
<span id="cb247-3"><a href="estimation-bootstrap-uncertainty.html#cb247-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">sample_n</span>(<span class="kw">nrow</span>(baby), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb247-4"><a href="estimation-bootstrap-uncertainty.html#cb247-4" aria-hidden="true"></a></span>
<span id="cb247-5"><a href="estimation-bootstrap-uncertainty.html#cb247-5" aria-hidden="true"></a>  baby_resample <span class="op">%&gt;%</span></span>
<span id="cb247-6"><a href="estimation-bootstrap-uncertainty.html#cb247-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">lm</span>(birth_weight <span class="op">~</span><span class="st"> </span><span class="kw">I</span>(gestational_days <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(gestational_days)) <span class="op">*</span><span class="st"> </span>maternal_smoker, <span class="dt">data =</span> .) <span class="op">%&gt;%</span></span>
<span id="cb247-7"><a href="estimation-bootstrap-uncertainty.html#cb247-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">tidy</span>(.) <span class="op">%&gt;%</span></span>
<span id="cb247-8"><a href="estimation-bootstrap-uncertainty.html#cb247-8" aria-hidden="true"></a><span class="st">    </span><span class="kw">select</span>(term, estimate)</span>
<span id="cb247-9"><a href="estimation-bootstrap-uncertainty.html#cb247-9" aria-hidden="true"></a>}</span>
<span id="cb247-10"><a href="estimation-bootstrap-uncertainty.html#cb247-10" aria-hidden="true"></a><span class="kw">resample_baby</span>()</span></code></pre></div>
<pre><code>## [90m# A tibble: 4 x 2[39m
##   term                                                             estimate
##   [3m[90m&lt;chr&gt;[39m[23m                                                               [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m (Intercept)                                                       122.   
## [90m2[39m I(gestational_days - mean(gestational_days))                        0.355
## [90m3[39m maternal_smokerTRUE                                                -[31m6[39m[31m.[39m[31m98[39m 
## [90m4[39m I(gestational_days - mean(gestational_days)):maternal_smokerTRUE    0.259</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="estimation-bootstrap-uncertainty.html#cb249-1" aria-hidden="true"></a>coef_baby &lt;-<span class="st"> </span><span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10000</span>, resample_baby) <span class="op">%&gt;%</span></span>
<span id="cb249-2"><a href="estimation-bootstrap-uncertainty.html#cb249-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">bind_rows</span>()</span>
<span id="cb249-3"><a href="estimation-bootstrap-uncertainty.html#cb249-3" aria-hidden="true"></a></span>
<span id="cb249-4"><a href="estimation-bootstrap-uncertainty.html#cb249-4" aria-hidden="true"></a>coef_baby <span class="op">%&gt;%</span></span>
<span id="cb249-5"><a href="estimation-bootstrap-uncertainty.html#cb249-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_density</span>(<span class="op">~</span><span class="st"> </span>estimate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb249-6"><a href="estimation-bootstrap-uncertainty.html#cb249-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_facet_wrap</span>(<span class="op">~</span><span class="st"> </span>term, <span class="dt">scales =</span> <span class="st">&#39;free&#39;</span>)</span></code></pre></div>
<p><img src="07-estimation_files/figure-html/interaction-distribution-1.png" width="672" /></p>
</div>
<div id="evaluating-model-fit" class="section level3" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> Evaluating model fit</h3>
<p>As discussed earlier, R-square is a measure of overall model fit. These can be compared across the different models to see which one may be doing the best and explaining the most variation in the baby’s birth weight.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="estimation-bootstrap-uncertainty.html#cb250-1" aria-hidden="true"></a><span class="kw">summary</span>(baby_reg)<span class="op">$</span>r.square</span></code></pre></div>
<pre><code>## [1] 0.1660911</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="estimation-bootstrap-uncertainty.html#cb252-1" aria-hidden="true"></a><span class="kw">summary</span>(smoker_reg)<span class="op">$</span>r.square</span></code></pre></div>
<pre><code>## [1] 0.06091</code></pre>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="estimation-bootstrap-uncertainty.html#cb254-1" aria-hidden="true"></a><span class="kw">summary</span>(baby_reg_smoker)<span class="op">$</span>r.square</span></code></pre></div>
<pre><code>## [1] 0.215661</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="estimation-bootstrap-uncertainty.html#cb256-1" aria-hidden="true"></a><span class="kw">summary</span>(baby_reg_int)<span class="op">$</span>r.square</span></code></pre></div>
<pre><code>## [1] 0.2249173</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="linear-model.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="prediction-for-individuals.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
